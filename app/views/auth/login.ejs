<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="../css/forms.css">
</head>

<body>
    <%- include('../includes/nav.ejs') %>
    <main>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <%- include('../includes/forms/errorBox') %>
                    <form action="/login" method="POST" class="mt-2">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input class="form-control 
                            <% if(form){ %>
                                    <%= form.hasError.includes('email') ? 'is-invalid' : '' %>
                            <% } %>"
                                type="text" name="email" id="email" value="<%= form ? form.values.email : ''%>" />
                            <small class="form-text text-muted">
                                <a href="/resetpassword">
                                    Esqueci minha senha!
                                </a>
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input class="form-control 
                            <% if(form){ %>
                                <%= form.hasError.includes('password') ? 'is-invalid' : '' %>
                            <% } %>"
                            type="password"
                            name="password"
                            id="password"
                            value="<%= form ? form.values.password : ''%>" />
                        </div>
                        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                        <button class="btn btn-success float-right" type="submit">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </main>
    <%- include('../includes/end.ejs') %>